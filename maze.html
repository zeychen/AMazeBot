
<!DOCTYPE html>
<meta charset="utf-8">
<style>


#GameBoardCanvas {
    padding: 5px;
    margin-left: auto;
    margin-right: auto;
}

body {
    background: black;
    padding: 5px;
}

h2 {
    color: white;
}

</style>
<div id="area1">
	<h2>AMaze</h2>
	<canvas id="GameBoardCanvas" width="1000px" height="1000px">
</canvas>
</div>
<div id="div1"></div>
<script src="jquery.js"></script>
<script>

var canvas = $('#GameBoardCanvas');

//The game board 1 = walls, 0 = free space, and -1 = the goal
var board = [
    [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
    [1,0,1,0,1,0,0,1,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,1],
    [1,0,0,0,1,1,0,0,0,1,0,1,0,1,1,1,1,0,1,0,1,1,0,1,1],
    [1,0,1,0,0,0,0,1,0,1,1,1,0,1,0,0,0,0,1,0,0,1,0,0,1],
    [1,0,0,0,1,1,1,1,0,0,0,0,0,1,1,0,1,1,1,1,0,1,1,1,1],
    [1,1,1,0,1,0,0,0,0,1,1,1,0,0,0,0,0,1,0,0,0,0,1,0,1],
    [1,0,0,0,1,1,1,1,1,1,0,0,0,1,0,1,0,1,0,1,1,0,0,0,1],
    [1,1,0,1,1,0,0,0,0,0,0,1,0,1,0,1,0,0,0,0,1,0,1,0,1],
    [1,0,0,1,0,0,0,1,1,1,1,1,0,1,0,1,1,0,1,0,1,0,1,0,1],
    [1,0,1,1,0,1,0,1,0,0,1,0,0,1,0,0,1,0,1,0,1,0,1,0,1],
    [1,0,0,1,0,1,0,1,1,0,0,0,1,1,1,0,1,0,0,1,0,0,0,0,1],
    [1,1,1,1,0,1,0,0,1,0,1,0,0,0,0,0,0,1,1,1,0,1,1,0,1],
    [1,0,0,0,0,0,0,1,1,0,1,1,0,1,0,1,0,0,0,0,1,0,1,1,1],
    [1,1,0,1,1,1,0,0,0,0,0,0,0,1,1,1,0,1,0,0,0,0,1,0,1],
    [1,0,0,0,0,1,1,1,1,0,1,0,1,1,0,0,0,1,0,1,1,0,0,0,1],
    [1,1,1,0,1,1,0,0,0,1,0,0,0,0,0,1,0,1,1,0,1,0,1,1,1],
    [1,0,0,0,1,0,0,1,0,1,0,1,1,0,1,1,0,0,1,0,0,0,0,0,1],
    [1,0,1,0,1,0,1,1,0,1,0,0,1,0,0,1,1,0,0,1,0,1,0,1,1],
    [1,0,1,0,0,0,0,0,0,0,0,1,1,1,0,1,0,1,0,0,0,1,0,0,1],
    [1,0,1,0,1,1,1,1,1,0,1,1,0,1,0,0,0,1,0,1,0,0,1,1,1],
    [1,0,1,0,0,1,0,0,1,0,1,0,0,0,1,1,0,0,0,1,0,1,0,1,1],
    [1,0,1,0,1,1,0,1,1,0,0,0,1,0,1,0,0,1,0,1,0,1,0,0,1],
    [1,0,0,0,0,1,0,0,1,1,0,1,1,0,0,0,1,1,0,1,0,1,1,0,1],
    [1,0,1,1,0,1,1,0,0,1,1,1,0,0,1,0,1,0,0,0,0,0,0,0,1],
    [1,0,1,0,0,0,1,1,0,0,0,0,0,1,1,0,0,0,1,0,1,0,1,0,1],
    [1,0,0,0,1,0,0,0,0,1,1,0,1,1,0,0,1,1,1,0,1,0,1,-1,1],
    [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
];

var player = {
    x: 1,
    y: 1
};

//Draw the game board
function draw(angry){
    var width = canvas.width();
    var blockSize = width/board.length/2;
    var ctx = canvas[0].getContext('2d');
    ctx.setTransform(1, 0, 0, 1, 0, 0);
    ctx.clearRect(0, 0, width, width);
    ctx.fillStyle="white";
    //Loop through the board array drawing the walls and the goal
    for(var y = 0; y < board.length; y++){
        for(var x = 0; x < board[y].length; x++){
            //Draw a wall
            if(board[y][x] === 1){
                ctx.fillRect(x*blockSize, y*blockSize, blockSize, blockSize);
            }
            //Draw the goal
            else if(board[y][x] === -1){
                ctx.beginPath();
                ctx.lineWidth = 5;
                ctx.strokeStyle = "gold";
                ctx.moveTo(x*blockSize, y*blockSize);
                ctx.lineTo((x+1)*blockSize, (y+1)*blockSize);
                ctx.moveTo(x*blockSize, (y+1)*blockSize);
                ctx.lineTo((x+1)*blockSize, y*blockSize);
                ctx.stroke();
            }
        }
    }
    //Draw the player
    ctx.beginPath();
    var half = blockSize/2;
    if(angry == 1)
    	ctx.fillStyle = "red";
    else if(angry == 0)
    	ctx.fillStyle = "blue";
    ctx.arc(player.x*blockSize+half, player.y*blockSize+half, half, 0, 2*Math.PI);
    ctx.fill();
}

//Check to see if the new space is inside the board and not a wall
function canMove(x, y){
    return (y>=0) && (y<board.length) && (x >= 0) && (x < board[y].length) && (board[y][x] != 1);
}



draw(0);

var moves = [4,4,4,4,4,4,4,4,4,2,2,2,2,2,2,2];
var i;
for(i=0; i < moves.length; i++){
	
	(function(i){
    window.setTimeout(function(){
    	if(moves[i] == 1 && canMove(player.x, player.y-1)){ // up
			player.y--;
		}
		else if( moves[i] == 2 && canMove(player.x, player.y+1)){ //down
			player.y++;
		}
		else if( moves[i] == 3 && canMove(player.x-1, player.y)){ //left
			player.x--;
		}
		else if( moves[i] == 4 && canMove(player.x+1, player.y)){ //right
			player.x++;
		}
		draw(0);
    }, i * 500);
  }(i));
}

</script>



